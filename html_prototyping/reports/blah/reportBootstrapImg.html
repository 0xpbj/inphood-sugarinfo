<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <title>Sugar Report</title>

    <!-- Bootstrap -->
    <link href="../../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">

    <!-- Material Design Bootstrap -->
    <link href="../../lib/mdbootstrap/css/mdb.min.css" rel="stylesheet">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../../lib/bootstrap/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="../../lib/mdbootstrap/js/mdb.min.js"></script>

    <div style="padding-right: 10px; padding-left: 10px;" >
      <h3 class="text-center">Thu Jun 22 2017</h3>
      <div style="height: 30px;">&nbsp;<div>
        
      <h4 class="text-center">Daily Sugar Consumed</h4>
      <div class="progress" style="height: 40px;">
        <div class="progress-bar progress-bar-success" role="progressbar" style="width: 25%; height: 40px; line-height: 40px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
          <h5 class="text-center" style="vertical-align: middle; display: inline-block;">25%</h5>
        </div>
      </div>
      
      <h4 class="text-center">Daily Sugar Consumed (125%)</h4>
      <div class="progress" style="height: 40px;">
        <div class="progress-bar progress-bar-success" role="progressbar" style="width: 72%; height: 40px; line-height: 40px;" aria-valuenow="63" aria-valuemin="0" aria-valuemax="100">
          <h5 class="text-center" style="vertical-align: middle; display: inline-block;">100%</h5>
        </div>
        <div class="progress-bar progress-bar-danger" role="progressbar" style="width: 18%; height: 40px; line-height: 40px;" aria-valuenow="18" aria-valuemin="0" aria-valuemax="100">
          <h5 class="text-center" style="vertical-align: middle; display: inline-block;">+25%</h5>
        </div>
      </div>

      <h4 class="text-center">Daily Sugar Consumed</h4>
      <div class="progress" style="height: 100px;">
        <div class="progress-bar" role="progressbar" style="background: transparent; color: black; width: 100%; height: 100px; line-height: 100px;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
          <h5 class="text-center" style="vertical-align: middle; display: inline-block;">0%</h5>
        </div>
      </div>

      <div style="height: 30px;">&nbsp;<div>
      <h4 class="text-center">Food Journal</h4>
      <ul class="list-group">

        <li class="list-group-item justify-content-between">
          <div class="media">
            <div class="media-body">
              <h5 class="media-heading">Pickles</h5>
              <small>(0g sugar)</small>
            </div>
            <div class="media-right">
              <img src="./img200x200.svg" class="media-object" alt="Sample Image" width="64" height="64">
            </div>
          </div>
          <div class="media">
            <div class="media-left">
              &nbsp;&nbsp;
            </div>
            <div class="media-body">
              <h5 class="media-heading">Pickles</h5>
              <small>(0g sugar)</small>
            </div>
            <div class="media-right">
              <img src="./img200x200.svg" class="media-object" alt="Sample Image" width="64" height="64">
            </div>
          </div>
        </li>

        <li class="list-group-item justify-content-between">
          <div class="media">
            <div class="media-body">
              <h5 class="media-heading">Pickles</h5>
              <small>(0g sugar)</small>
            </div>
            <div class="media-right">
              <img src="./img200x200.svg" class="media-object" alt="Sample Image" width="64" height="64">
            </div>
          </div>
        </li>
        
        <li class="list-group-item justify-content-between">
          <div class="media">
            <div class="media-body">
              <h5 class="media-heading">Pickles</h5>
              <small>(0g sugar)</small>
            </div>
            <div class="media-right">
              <img src="./img200x200.svg" class="media-object" alt="Sample Image" width="64" height="64">
            </div>
          </div>
        </li>

        <li class="list-group-item justify-content-between">
        </li>

        <li class="list-group-item active justify-content-between">
          <div class="media">
            <div class="media-left">
              <h5 class="media-heading">Total</h5>
            </div>
            <div class="media-body text-right">
              100g sugar
            </div>
          </div>
        </li>

      </ul>
    </div>

    <h4 class="text-center">Sugar History</h4>
    <div>
      <canvas id="sugarHistoryChart"></canvas>
      <script>

        $(function () {
          var data = {
            labels: ["", "", "", "", "", "", ""],
            datasets: [
              {
                label: "My First dataset",
                fillColor: "rgba(220,220,220,0.2)",
                strokeColor: "rgba(220,220,220,1)",
                pointColor: "rgba(220,220,220,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(220,220,220,1)",
                data: [65, 59, 80, 81, 56, 55, 40]
              }
            ]
          };
          
          var option = {
           responsive: true,
          };
          
          // Get the context of the canvas element we want to select
          var ctx = document.getElementById("sugarHistoryChart").getContext('2d');
          var myLineChart = new Chart(ctx).Line(data, option); //'Line' defines type of the chart.
        });
        
      </script>
    </div>
    <div>
      <div class="page-header">
        <h1>Share Dialog</h1>
      </div>

      <p>Click the button below to trigger a Share Dialog</p>

      <div id="shareBtn" class="btn btn-success clearfix">Share</div>

      <p style="margin-top: 50px">
        <hr />
        <a class="btn btn-small"  href="https://developers.facebook.com/docs/sharing/reference/share-dialog">Share Dialog Documentation</a>
      </p>

      <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
      <script>
        firebase.initializeApp({
          apiKey: 'AIzaSyBQTHsQA5GuDG7Ttk17o3LBQfXjn7MtUQ8',
          authDomain: 'inphooddb-e0dfd.firebaseapp.com',
          databaseURL: 'https://inphooddb-e0dfd.firebaseio.com',
        });
        console.log(firebase.app().name);
        firebase.auth().signInAnonymously().catch(function(error) {
          // Handle Errors here.
          console.log(error)
          var errorCode = error.code;
          var errorMessage = error.message;
          // ...
        });
      </script>
      <!-- this is the green share button for sending to facebook wall
        <script>
        window.fbAsyncInit = function() {
          FB.init({
            appId            : '669941103143805',
            autoLogAppEvents : true,
            xfbml            : true,
            version          : 'v2.9'
          });
          FB.AppEvents.logPageView();
        };
        (function(d, s, id){
           var js, fjs = d.getElementsByTagName(s)[0];
           if (d.getElementById(id)) {return;}
           js = d.createElement(s); js.id = id;
           js.src = "//connect.facebook.net/en_US/sdk.js";
           fjs.parentNode.insertBefore(js, fjs);
         }(document, 'script', 'facebook-jssdk'));
        document.getElementById('shareBtn').onclick = function() {
          FB.ui({
            method: 'share',
            href: 'https://www.inphood.com/reports/1322516797796635/267733510.html',
          }, function(response){});
        }
      </script> -->

      <!-- this will get the user id information
        <script>
        (function(d, s, id){
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) {return;}
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'Messenger'));
        window.extAsyncInit = function() {
          console.log('start of extension init')
          // document.getElementById("share_button").onclick = function() {
            console.log('button clicked')
            var messageToShare = {
              "attachment":{
                 "type":"template",
                 "payload":{
                     "template_type":"generic",
                     "elements": [{
                         "title":"Sharing for facebook test",
                         "image_url": "https://www.inphood.com/chatbotimages/sugar.jpg",
                         "subtitle": "My Report",
                         "default_action":{
                             "type":"web_url",
                             "url": "https://www.inphood.com/reports/1322516797796635/267733510.html"
                         },
                         "buttons":[{
                             "type":"web_url",
                             "url":"https://www.inphood.com/reports/1322516797796635/267733510.html",
                             "title":"Share the content"
                         }]
                     }]
                 }
              }
            };
            console.log('extension init done')
            MessengerExtensions.beginShareFlow(function success(response) {
              // User dismissed without error, but did they
              console.log('share flow started')
              // share the message?
              if(response.is_sent){
                  // The user actually did share. 
                // Perhaps close the window w/ requestCloseBrowser().
              }else{
                  
              }
            }, function error(errorCode, errorMessage) {      
            // An error occurred in the process
              
            },
            messageToShare,
            "broadcast");
            MessengerExtensions.getUserID(function success(uids) {
              // User ID was successfully obtained. 
              var psid = uids.psid;
              console.log('User ID', psid)
            }, function error(err, errorMessage) {      
            // Error handling code
            });    
          // }
        }
      </script> -->

    </div>
  </body>
</html>
